<div class="row">
  <div class="content content-box col-md-12">
    <div oo-error-overlay></div>
    <form name="tourForm" oo-confirm-on-dirty>
      <div class="row">
        <div class="col-md-12">
          <div class="row form-group">
            <h3>
              <div class="col-md-8">
                <span translate>Tour</span> <span>{{tour.name}}</span>
              </div>
              <div class="col-md-4">
                <div class="btn-group pull-right" role="group">
                  <oo-save-button model="tour" form="tourForm" entity="Tour" on-save="save" on-cancel="backToList" on-created="created">{{fullName() || 'Tour'|translate}}</oo-save-button>
                  <oo-delete-button ng-if="isDeletable()" form="tourForm" model="tour" entity="Tour" on-delete="delete" on-deleted="backToList"></oo-delete-button>
                </div>
              </div>
            </h3>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <div class="panel panel-default">
            <div class="panel-heading clearfix">
              <h3 class="panel-title"><span class="navbar-brand" translate>Tourendaten</span></h3>
            </div>

            <div class="panel-body">
              <div class="row form-group">
                <div class="col-md-4">
                  <label for="name" translate>Tour</label>
                </div>
                <div class="col-md-8">
                  <input ng-disabled="!!isEditable()" type="text" class="form-control" id="name" ng-model="tour.name" required placeholder="'Name'|translate:'notPerson'" maxlength="30">
                </div>
              </div>
              <div class="row form-group">
                <div class="col-md-4">
                  <label for="beschreibung" translate>Beschreibung</label>
                </div>
                <div class="col-md-8">
                  <input ng-disabled="!!isEditable()" type="text" class="form-control" id="beschreibung" ng-model="tour.beschreibung" required placeholder="{{'Beschreibung'|translate}}" maxlength="30">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <div class="panel panel-default">
            <div class="panel-heading clearfix">
              <h3 class="panel-title">
                <span class="navbar-brand" translate>Tourlieferungen</span>
                <div class="navbar-form pull-right" role="search">
                  <span translate>Abos</span>
                  <div class="form-group">
                    <input bs-switch ng-model="query.aktiveAbos" type="checkbox" switch-size="medium" switch-animate="true" switch-on-text="{{'Aktive'|translate}}" switch-off-text="{{'Alle'|translate}}" switch-on-color="success" switch-off-color="warning" switch-radio-off="false" ng-true-value="true" ng-false-value="false">
                  </div>
                </div>
              </h3>
            </div>

            <div class="panel-body" sv-root sv-on-sort="onSort($item, $partFrom, $partTo)">
              <div ng-if="hasUnsorted">
                <h3 translate>Noch nicht sortierte Tourlieferungen</h3>
                <oo-tourlieferungen tourlieferungen="unsortedTourlieferungen"></oo-tourlieferungen>
              </div>
              <div ng-if="!hasUnsorted">
                <span translate>Alle Lieferungen wurden einsortiert</span>
              </div>
              <div>
                <h3 translate>Tourablauf</h3>
                <oo-tourlieferungen tourlieferungen="sortedTourlieferungen"></oo-tourlieferungen>
              </div>
            </div>
          </div>
        </div>
      </div>

    </form>
  </div>
</div>
